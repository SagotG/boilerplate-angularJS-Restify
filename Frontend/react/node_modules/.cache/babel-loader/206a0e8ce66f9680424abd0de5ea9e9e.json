{"ast":null,"code":"import React, { Component } from \"react\";\nvar s81 = \"../../../src/assets/sounds/boom.wav\";\nvar s83 = \"../../../src/assets/sounds/clap.wav\";\nvar s68 = \"../../../src/assets/sounds/hihat.wav\";\nvar s70 = \"../../../src/assets/sounds/kick.wav\";\nvar s71 = \"../../../src/assets/sounds/openhat.wav\";\nvar s72 = \"../../../src/assets/sounds/ride.wav\";\nvar s74 = \"../../../src/assets/sounds/snare.wav\";\nvar s75 = \"../../../src/assets/sounds/tink.wav\";\nvar s76 = \"../../../src/assets/sounds/tom.wav\";\nexport var DrumComponent = {\n  bindings: {\n    props: \"=\"\n  },\n  controller: function controller($scope) {\n    $scope.dataKeys = [{\n      input: 'Q',\n      key: 81,\n      playing: false,\n      sound: s81,\n      name: \"boom\"\n    }, {\n      input: 'S',\n      key: 83,\n      playing: false,\n      sound: s83,\n      name: \"clap\"\n    }, {\n      input: 'D',\n      key: 68,\n      playing: false,\n      sound: s68,\n      name: \"hihat\"\n    }, {\n      input: 'F',\n      key: 70,\n      playing: false,\n      sound: s70,\n      name: \"kick\"\n    }, {\n      input: 'G',\n      key: 71,\n      playing: false,\n      sound: s71,\n      name: \"openhat\"\n    }, {\n      input: 'H',\n      key: 72,\n      playing: false,\n      sound: s72,\n      name: \"ride\"\n    }, {\n      input: 'J',\n      key: 74,\n      playing: false,\n      sound: s74,\n      name: \"snare\"\n    }, {\n      input: 'K',\n      key: 75,\n      playing: false,\n      sound: s75,\n      name: \"tink\"\n    }, {\n      input: 'L',\n      key: 76,\n      playing: false,\n      sound: s76,\n      name: \"tom\"\n    }];\n\n    function updateInput(id) {\n      $scope.dataKeys[id].playing = true;\n      setTimeout(function () {\n        $scope.$apply(function () {\n          $scope.dataKeys[id].playing = false;\n        });\n      }, 100);\n    }\n\n    var playSound = function playSound(file) {\n      var audioElement = document.createElement('audio');\n      audioElement.setAttribute('src', file);\n      audioElement.play();\n    };\n\n    angular.element(window).bind(\"keydown\", keydown);\n\n    function keydown(e) {\n      $scope.eventKeydown = e.keyCode;\n\n      switch ($scope.eventKeydown) {\n        case 81:\n          playSound(s81, 81);\n          updateInput(0);\n          break;\n\n        case 83:\n          playSound(s83);\n          updateInput(1);\n          break;\n\n        case 68:\n          playSound(s68);\n          updateInput(2);\n          break;\n\n        case 70:\n          playSound(s70);\n          updateInput(3);\n          break;\n\n        case 71:\n          playSound(s71);\n          updateInput(4);\n          break;\n\n        case 72:\n          playSound(s72);\n          updateInput(5);\n          break;\n\n        case 74:\n          playSound(s74);\n          updateInput(6);\n          break;\n\n        case 75:\n          playSound(s75);\n          updateInput(7);\n          break;\n\n        case 76:\n          playSound(s76);\n          updateInput(8);\n          break;\n\n        default:\n          break;\n      }\n\n      $scope.$apply();\n    }\n  },\n  template: \"\\n      <div class=\\\"keys\\\" ng-click=\\\"processForm($event)\\\">\\n        <div class=\\\"key\\\" ng-class=\\\"{'playing' : x.playing === true }\\\" id={{x.key}} data-key={{x.key}} ng-repeat=\\\"x in dataKeys\\\">\\n          <kbd>{{x.input}}</kbd>\\n          <span class=\\\"sound\\\">{{x.name}}</span>\\n        </div>\\n      </div>\"\n};","map":{"version":3,"sources":["/home/guillaume/rendu/drum-kit/react/src/components/Drum/Drum.jsx"],"names":["React","Component","s81","s83","s68","s70","s71","s72","s74","s75","s76","DrumComponent","bindings","props","controller","$scope","dataKeys","input","key","playing","sound","name","updateInput","id","setTimeout","$apply","playSound","file","audioElement","document","createElement","setAttribute","play","angular","element","window","bind","keydown","e","eventKeydown","keyCode","template"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nconst s81 = \"../../../src/assets/sounds/boom.wav\";\nconst s83 = \"../../../src/assets/sounds/clap.wav\"\nconst s68 = \"../../../src/assets/sounds/hihat.wav\"\nconst s70 = \"../../../src/assets/sounds/kick.wav\"\nconst s71 = \"../../../src/assets/sounds/openhat.wav\"\nconst s72 = \"../../../src/assets/sounds/ride.wav\"\nconst s74 = \"../../../src/assets/sounds/snare.wav\"\nconst s75 = \"../../../src/assets/sounds/tink.wav\"\nconst s76 = \"../../../src/assets/sounds/tom.wav\" \n\nexport const DrumComponent = {\n  bindings: { props: \"=\" },\n  controller: ($scope) => {\n\n    $scope.dataKeys = [\n      {input: 'Q', key: 81, playing: false, sound: s81, name: \"boom\"},\n      {input: 'S', key: 83, playing: false, sound: s83, name: \"clap\"},\n      {input: 'D', key: 68, playing: false, sound: s68, name: \"hihat\"},\n      {input: 'F', key: 70, playing: false, sound: s70, name: \"kick\"},\n      {input: 'G', key: 71, playing: false, sound: s71, name: \"openhat\"},\n      {input: 'H', key: 72, playing: false, sound: s72, name: \"ride\"},\n      {input: 'J', key: 74, playing: false, sound: s74, name: \"snare\"},\n      {input: 'K', key: 75, playing: false, sound: s75, name: \"tink\"},\n      {input: 'L', key: 76, playing: false, sound: s76, name: \"tom\"}\n    ];\n\n    function updateInput(id) {\n      $scope.dataKeys[id].playing = true;\n      setTimeout(() => {\n        $scope.$apply(() => {\n          $scope.dataKeys[id].playing = false;\n        });\n      }, 100);\n    }\n\n    var playSound = function(file){\n      var audioElement = document.createElement('audio');\n      audioElement.setAttribute('src', file);\n      audioElement.play();\n    }\n\n    angular.element(window).bind(\"keydown\", keydown);\n    function keydown(e) {\n      $scope.eventKeydown = e.keyCode;\n      switch($scope.eventKeydown) {\n        case 81:\n          playSound(s81, 81);\n          updateInput(0);\n          break;\n        case 83:\n          playSound(s83);\n          updateInput(1);\n          break;\n        case 68:\n          playSound(s68);\n          updateInput(2);\n          break;\n        case 70:\n          playSound(s70);\n          updateInput(3);\n          break;\n        case 71:\n          playSound(s71);\n          updateInput(4);\n          break;\n        case 72:\n          playSound(s72);\n          updateInput(5);\n          break;\n        case 74:\n          playSound(s74);\n          updateInput(6);\n          break;\n        case 75:\n          playSound(s75);\n          updateInput(7);\n          break;\n        case 76:\n          playSound(s76);\n          updateInput(8);\n          break;\n        default:\n          break;\n        }\n      $scope.$apply();\n    }\n  },\n  template: `\n      <div class=\"keys\" ng-click=\"processForm($event)\">\n        <div class=\"key\" ng-class=\"{'playing' : x.playing === true }\" id={{x.key}} data-key={{x.key}} ng-repeat=\"x in dataKeys\">\n          <kbd>{{x.input}}</kbd>\n          <span class=\"sound\">{{x.name}}</span>\n        </div>\n      </div>`\n};\n"]},"metadata":{},"sourceType":"module"}