{"ast":null,"code":"import _classCallCheck from \"/home/guillaume/rendu/drum-kit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/guillaume/rendu/drum-kit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/guillaume/rendu/drum-kit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/guillaume/rendu/drum-kit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/guillaume/rendu/drum-kit/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/guillaume/rendu/drum-kit/react/src/components/Drum/Drum.jsx\";\nimport React, { Component } from \"react\";\nimport Sound from 'react-sound';\nimport '../../assets/css/key.css';\nvar s83 = \"~/src/assets/sounds/clap.wav\";\nvar s81 = \"~/src/assets/sounds/boom.wav\";\nvar s68 = \"~/src/assets/sounds/hihat.wav\";\nvar s70 = \"~/src/assets/sounds/kick.wav\";\nvar s71 = \"~/src/assets/sounds/openhat.wav\";\nvar s72 = \"~/src/assets/sounds/ride.wav\";\nvar s74 = \"~/src/assets/sounds/snare.wav\";\nvar s75 = \"~/src/assets/sounds/tink.wav\";\nvar s76 = \"~/src/assets/sounds/tom.wav\";\nvar dataKeys = [{\n  input: 'Q',\n  key: 81,\n  playing: false,\n  sound: s81,\n  name: \"boom\"\n}, {\n  input: 'S',\n  key: 83,\n  playing: false,\n  sound: s83,\n  name: \"clap\"\n}, {\n  input: 'D',\n  key: 68,\n  playing: false,\n  sound: s68,\n  name: \"hihat\"\n}, {\n  input: 'F',\n  key: 70,\n  playing: false,\n  sound: s70,\n  name: \"kick\"\n}, {\n  input: 'G',\n  key: 71,\n  playing: false,\n  sound: s71,\n  name: \"openhat\"\n}, {\n  input: 'H',\n  key: 72,\n  playing: false,\n  sound: s72,\n  name: \"ride\"\n}, {\n  input: 'J',\n  key: 74,\n  playing: false,\n  sound: s74,\n  name: \"snare\"\n}, {\n  input: 'K',\n  key: 75,\n  playing: false,\n  sound: s75,\n  name: \"tink\"\n}, {\n  input: 'L',\n  key: 76,\n  playing: false,\n  sound: s76,\n  name: \"tom\"\n}];\n\nvar DrumComponent =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(DrumComponent, _Component);\n\n  function DrumComponent(props) {\n    var _this;\n\n    _classCallCheck(this, DrumComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DrumComponent).call(this, props));\n\n    _this.updateInput = function (id) {\n      dataKeys[id].playing = true;\n      setTimeout(function () {\n        dataKeys[id].playing = false;\n      }, 100);\n    };\n\n    _this._handleKeyDown = function (event) {\n      switch (event.keyCode) {\n        case 81:\n          alert(event.keyCode); // this.playSound(s81, 81);\n\n          _this.updateInput(0);\n\n          break;\n\n        case 83:\n          _this.playSound(s83);\n\n          _this.updateInput(1);\n\n          break;\n\n        case 68:\n          _this.playSound(s68);\n\n          _this.updateInput(2);\n\n          break;\n\n        case 70:\n          _this.playSound(s70);\n\n          _this.updateInput(3);\n\n          break;\n\n        case 71:\n          _this.playSound(s71);\n\n          _this.updateInput(4);\n\n          break;\n\n        case 72:\n          _this.playSound(s72);\n\n          _this.updateInput(5);\n\n          break;\n\n        case 74:\n          _this.playSound(s74);\n\n          _this.updateInput(6);\n\n          break;\n\n        case 75:\n          _this.playSound(s75);\n\n          _this.updateInput(7);\n\n          break;\n\n        case 76:\n          _this.playSound(s76);\n\n          _this.updateInput(8);\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(DrumComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"keydown\", this._handleKeyDown);\n    }\n  }, {\n    key: \"playSound\",\n    value: function playSound(file) {\n      return React.createElement(Sound, {\n        url: file,\n        playStatus: Sound.status.PLAYING,\n        onLoading: this.handleSongLoading,\n        onPlaying: this.handleSongPlaying,\n        onFinishedPlaying: this.handleSongFinishedPlaying,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var drum = dataKeys.map(function (x) {\n        return React.createElement(\"div\", {\n          className: x.playing ? 'key playing' : 'key',\n          id: x.key,\n          \"data-key\": x.key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, React.createElement(\"kbd\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, x.input), React.createElement(\"span\", {\n          className: \"sound\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, x.name));\n      });\n      return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Drum\", React.createElement(\"button\", {\n        onClick: this.playSound(s75),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"play\")), React.createElement(\"div\", {\n        className: \"keys\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, drum));\n    }\n  }]);\n\n  return DrumComponent;\n}(Component);\n\n;\nexport default DrumComponent;","map":{"version":3,"sources":["/home/guillaume/rendu/drum-kit/react/src/components/Drum/Drum.jsx"],"names":["React","Component","Sound","s83","s81","s68","s70","s71","s72","s74","s75","s76","dataKeys","input","key","playing","sound","name","DrumComponent","props","updateInput","id","setTimeout","_handleKeyDown","event","keyCode","alert","playSound","document","addEventListener","file","status","PLAYING","handleSongLoading","handleSongPlaying","handleSongFinishedPlaying","drum","map","x"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Sound from 'react-sound';\nimport '../../assets/css/key.css'\n\nconst s83 = \"~/src/assets/sounds/clap.wav\"\nconst s81 = \"~/src/assets/sounds/boom.wav\";\nconst s68 = \"~/src/assets/sounds/hihat.wav\"\nconst s70 = \"~/src/assets/sounds/kick.wav\"\nconst s71 = \"~/src/assets/sounds/openhat.wav\"\nconst s72 = \"~/src/assets/sounds/ride.wav\"\nconst s74 = \"~/src/assets/sounds/snare.wav\"\nconst s75 = \"~/src/assets/sounds/tink.wav\"\nconst s76 = \"~/src/assets/sounds/tom.wav\"\n\nconst dataKeys = [\n  {input: 'Q', key: 81, playing: false, sound: s81, name: \"boom\"},\n  {input: 'S', key: 83, playing: false, sound: s83, name: \"clap\"},\n  {input: 'D', key: 68, playing: false, sound: s68, name: \"hihat\"},\n  {input: 'F', key: 70, playing: false, sound: s70, name: \"kick\"},\n  {input: 'G', key: 71, playing: false, sound: s71, name: \"openhat\"},\n  {input: 'H', key: 72, playing: false, sound: s72, name: \"ride\"},\n  {input: 'J', key: 74, playing: false, sound: s74, name: \"snare\"},\n  {input: 'K', key: 75, playing: false, sound: s75, name: \"tink\"},\n  {input: 'L', key: 76, playing: false, sound: s76, name: \"tom\"}\n];\n\nclass DrumComponent extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n      \n        document.addEventListener(\"keydown\", this._handleKeyDown);\n    }\n\n    updateInput = (id) => {\n        dataKeys[id].playing = true;\n        setTimeout(() => {\n            dataKeys[id].playing = false;\n        }, 100);\n    }\n\n    playSound(file) {\n      return (\n        \n        <Sound\n        url={file}\n        playStatus={Sound.status.PLAYING}\n        onLoading={this.handleSongLoading}\n        onPlaying={this.handleSongPlaying}\n        onFinishedPlaying={this.handleSongFinishedPlaying}\n        />);\n    }\n\n    _handleKeyDown = (event) => {\n    \n      switch( event.keyCode ) {\n        case 81:\n            alert(event.keyCode)\n          // this.playSound(s81, 81);\n          this.updateInput(0);\n          break;\n        case 83:\n          this.playSound(s83);\n          this.updateInput(1);\n          break;\n        case 68:\n          this.playSound(s68);\n          this.updateInput(2);\n          break;\n        case 70:\n          this.playSound(s70);\n          this.updateInput(3);\n          break;\n        case 71:\n          this.playSound(s71);\n          this.updateInput(4);\n          break;\n        case 72:\n          this.playSound(s72);\n          this.updateInput(5);\n          break;\n        case 74:\n          this.playSound(s74);\n          this.updateInput(6);\n          break;\n        case 75:\n          this.playSound(s75);\n          this.updateInput(7);\n          break;\n        case 76:\n          this.playSound(s76);\n          this.updateInput(8);\n          break;\n        default:\n          break;\n        }\n    }\n  \n  render() {\n      const drum = dataKeys.map((x) => (\n        <div className={x.playing ? 'key playing' : 'key' } id={x.key} data-key={x.key} >\n          <kbd>{x.input}</kbd>\n          <span className=\"sound\">{x.name}</span>\n        </div>\n      ))\n      return (\n          <>\n          <h1>\n              Drum\n              <button onClick={this.playSound(s75)}>play</button>\n          </h1>\n        <div className=\"keys\">\n            {drum}\n        </div>\n          </>\n      )\n  }\n};\n\nexport default DrumComponent;"]},"metadata":{},"sourceType":"module"}